<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="icon" href="/favicon.ico" data-next-head=""/><meta name="description" content="A blog about software engineering, cybersecurity, and other topics." data-next-head=""/><meta name="og:title" content="Notes for the future" data-next-head=""/><meta name="twitter:card" content="summary_large_image" data-next-head=""/><title data-next-head="">Kali linux live</title><link rel="preload" href="/durosyan/_next/static/css/47b9607137cbc887.css" as="style"/><link rel="stylesheet" href="/durosyan/_next/static/css/47b9607137cbc887.css" data-n-g=""/><link rel="preload" href="/durosyan/_next/static/css/2baac192d5660853.css" as="style"/><link rel="stylesheet" href="/durosyan/_next/static/css/2baac192d5660853.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/durosyan/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/durosyan/_next/static/chunks/webpack-8c38c42c65c02f93.js" defer=""></script><script src="/durosyan/_next/static/chunks/framework-052b50cd3d4947f2.js" defer=""></script><script src="/durosyan/_next/static/chunks/main-b5db07c2d9c05fb0.js" defer=""></script><script src="/durosyan/_next/static/chunks/pages/_app-8b2b478b1c32f058.js" defer=""></script><script src="/durosyan/_next/static/chunks/111-b6d228a460ce1844.js" defer=""></script><script src="/durosyan/_next/static/chunks/853-cd8f1d40d2155ed5.js" defer=""></script><script src="/durosyan/_next/static/chunks/pages/posts/%5Bid%5D-f7588ef31079323e.js" defer=""></script><script src="/durosyan/_next/static/TvxaxV-N2JUamkdlPDMVn/_buildManifest.js" defer=""></script><script src="/durosyan/_next/static/TvxaxV-N2JUamkdlPDMVn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="layout_container__FUycR"><header class="layout_header__SFlEE"></header><main><article><h1>Kali linux live</h1><div><time dateTime="2025-01-15">January 15, 2025</time></div><div><p>I wanted to inspect the disk that gets created when I flash the kali iso to a USB drive.</p>
<p>Seems to be what it says on the tin.</p>
<hr>
<p>I think this is to mark a partition as the persistant partition for a kali usb?
would be better off configuring it as such in the first place (using the installer)</p>
<div class="hl hl-bash"><div class="hl-header"><div class="hl-language"><span>bash</span></div></div><pre id="MC43ODgxMTE1" style="--hl-line-number-gutter-factor: 1"><code tabindex="0"><span class="line"><span class="line-number" aria-hidden="true">1</span><span class="pl-c">#!/bin/bash</span></span>
<span class="line"><span class="line-number" aria-hidden="true">2</span></span>
<span class="line"><span class="line-number" aria-hidden="true">3</span>usb=/dev/<span class="pl-smi">$1</span></span>
<span class="line"><span class="line-number" aria-hidden="true">4</span>sudo fdisk <span class="pl-smi">$usb</span> <span class="pl-k">&#x3C;&#x3C;&#x3C;</span> <span class="pl-s"><span class="pl-pds">$(</span>printf</span> <span class="pl-s"><span class="pl-pds">"</span>n\np\n\n\n\nw<span class="pl-pds">"</span></span>) </span>
<span class="line"><span class="line-number" aria-hidden="true">5</span>sudo mkfs.ext4 -L persistence /dev/sdb3</span>
<span class="line"><span class="line-number" aria-hidden="true">6</span>sudo mkdir -p /mnt/usb</span>
<span class="line"><span class="line-number" aria-hidden="true">7</span>sudo mount /dev/sdb3 /mnt/usb</span>
<span class="line"><span class="line-number" aria-hidden="true">8</span><span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>/ union<span class="pl-pds">"</span></span> <span class="pl-k">|</span> sudo tee /mnt/usb/persistence.conf</span>
<span class="line"><span class="line-number" aria-hidden="true">9</span>sudo umount /dev/sdb3</span>
</code></pre></div></div></article></main><div class="layout_backToHome__D9QFr"><a href="/durosyan">← Back to home</a></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"kali_live_disk","contentHtml":"\u003cp\u003eI wanted to inspect the disk that gets created when I flash the kali iso to a USB drive.\u003c/p\u003e\n\u003cp\u003eSeems to be what it says on the tin.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eI think this is to mark a partition as the persistant partition for a kali usb?\nwould be better off configuring it as such in the first place (using the installer)\u003c/p\u003e\n\u003cdiv class=\"hl hl-bash\"\u003e\u003cdiv class=\"hl-header\"\u003e\u003cdiv class=\"hl-language\"\u003e\u003cspan\u003ebash\u003c/span\u003e\u003c/div\u003e\u003c/div\u003e\u003cpre id=\"MC43ODgxMTE1\" style=\"--hl-line-number-gutter-factor: 1\"\u003e\u003ccode tabindex=\"0\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e1\u003c/span\u003e\u003cspan class=\"pl-c\"\u003e#!/bin/bash\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e2\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e3\u003c/span\u003eusb=/dev/\u003cspan class=\"pl-smi\"\u003e$1\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e4\u003c/span\u003esudo fdisk \u003cspan class=\"pl-smi\"\u003e$usb\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e\u0026#x3C;\u0026#x3C;\u0026#x3C;\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e$(\u003c/span\u003eprintf\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003en\\np\\n\\n\\n\\nw\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e) \u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e5\u003c/span\u003esudo mkfs.ext4 -L persistence /dev/sdb3\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e6\u003c/span\u003esudo mkdir -p /mnt/usb\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e7\u003c/span\u003esudo mount /dev/sdb3 /mnt/usb\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e8\u003c/span\u003e\u003cspan class=\"pl-c1\"\u003eecho\u003c/span\u003e \u003cspan class=\"pl-s\"\u003e\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e/ union\u003cspan class=\"pl-pds\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"pl-k\"\u003e|\u003c/span\u003e sudo tee /mnt/usb/persistence.conf\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan class=\"line-number\" aria-hidden=\"true\"\u003e9\u003c/span\u003esudo umount /dev/sdb3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","title":"Kali linux live","date":"2025-01-15","tags":["hacking","privacy","tinkering"]}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"kali_live_disk"},"buildId":"TvxaxV-N2JUamkdlPDMVn","assetPrefix":"/durosyan","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>